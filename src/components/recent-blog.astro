---
import { getCollection } from "astro:content";
import RecentBlogCard from "./common/recent-blog-card.astro";

let posts = await getCollection("blogs");

posts = posts.sort(
  (a, b) =>
    new Date(b.data.pubDate).getTime() -
    new Date(a.data.pubDate).getTime()
);
---

<div class="flex-between-center mb-4">
  <h4 class="text-lg font-semibold">Recent Articles</h4>
  <a
    href="/blogs"
    class="underline text-blue-400 text-sm hover:text-blue-300"
  >
    View all
  </a>
</div>

<div class="flex flex-col gap-1">
  {posts.map((post) => (
    <RecentBlogCard post={post} />
  ))}
</div>
